# K24 Shop - CRM –ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å

–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ CRM —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–Ω–ª–∞–π–Ω –º–∞–≥–∞–∑–∏–Ω—É –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏–Ω –∑ —Ä–æ–∑–±—ñ—Ä–æ–∫.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Frontend:** Next.js 16, React 19, TypeScript
- **UI:** Tailwind CSS 4, shadcn/ui
- **Backend:** Firebase (Firestore, Auth, Storage)
- **Charts:** Recharts
- **Forms:** React Hook Form + Zod
- **Tables:** TanStack Table
- **CSV:** PapaParse

## üì¶ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### –¢–æ–≤–∞—Ä–∏
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
- ‚úÖ –ü–æ—à—É–∫ –ø–æ ID, SKU, –Ω–∞–∑–≤—ñ
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä—ñ–≤ (Firebase Storage)
- ‚úÖ –°—Ç–∞—Ç—É—Å–∏: –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ, –ø—ñ–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∑–Ω—è—Ç–æ –∑ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞
- ‚úÖ SEO –ø–æ–ª—è: meta title, description, keywords, slug

### –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
- ‚úÖ –Ü—î—Ä–∞—Ä—Ö—ñ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)
- ‚úÖ SEO –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü—ñ—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

### –Ü–º–ø–æ—Ä—Ç/–ï–∫—Å–ø–æ—Ä—Ç
- ‚úÖ –Ü–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä—ñ–≤ –∑ CSV —Ñ–∞–π–ª—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤ (–ø–æ SKU)
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —à–∞–±–ª–æ–Ω—É CSV
- ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä—ñ–≤ –≤ CSV –∑ –≤–∏–±–æ—Ä–æ–º –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ –Ü–º–ø–æ—Ä—Ç SEO –ø–æ–ª—ñ–≤ –∑ CSV

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- ‚úÖ –†–æ–ª—ñ: –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä, –ú–µ–Ω–µ–¥–∂–µ—Ä, –ü–µ—Ä–µ–≥–ª—è–¥–∞—á
- ‚úÖ –ì–Ω—É—á–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü—ñ—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ –ü–µ—Ä—à–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –î–∞—à–±–æ—Ä–¥ –∑ –∫–ª—é—á–æ–≤–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞—Ö
- ‚úÖ –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö
- ‚úÖ –ì—Ä–∞—Ñ—ñ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (–¥–æ–¥–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏)
- ‚úÖ –û—Å—Ç–∞–Ω–Ω—ñ –¥–æ–¥–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏

### –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è
- ‚úÖ –°–ø–∏—Å–æ–∫ –∑–≤–µ—Ä–Ω–µ–Ω—å –∫–ª—ñ—î–Ω—Ç—ñ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å–∏: –Ω–æ–≤–µ, –≤ –æ–±—Ä–æ–±—Ü—ñ, –∑–∞–≤–µ—Ä—à–µ–Ω–æ, —Å–∫–∞—Å–æ–≤–∞–Ω–æ
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

## üõ† –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∏–º–æ–≥–∏
- Node.js 20.9.0+
- npm –∞–±–æ yarn
- Firebase –ø—Ä–æ–µ–∫—Ç

### –ö—Ä–æ–∫–∏

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
```bash
git clone <repo-url>
cd k24-shop
```

2. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**
```bash
npm install
```

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Firebase**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
NEXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=your_measurement_id
```

4. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Firestore Rules**

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
    function isAuthenticated() {
      return request.auth != null;
    }
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    function hasRole(role) {
      return isAuthenticated() && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == role;
    }
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ –∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
    function isActive() {
      return isAuthenticated() && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.isActive == true;
    }

    // Products
    match /products/{productId} {
      allow read: if isAuthenticated() && isActive();
      allow create: if isAuthenticated() && isActive();
      allow update: if isAuthenticated() && isActive();
      allow delete: if hasRole('admin');
    }

    // Categories
    match /categories/{categoryId} {
      allow read: if isAuthenticated() && isActive();
      allow write: if hasRole('admin');
    }

    // Users
    match /users/{userId} {
      allow read: if isAuthenticated() && isActive();
      allow create: if isAuthenticated();
      allow update: if isAuthenticated() && (request.auth.uid == userId || hasRole('admin'));
      allow delete: if hasRole('admin');
    }

    // Inquiries
    match /inquiries/{inquiryId} {
      allow read: if isAuthenticated() && isActive();
      allow create: if true; // Public –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è
      allow update: if isAuthenticated() && isActive();
      allow delete: if hasRole('admin');
    }
  }
}
```

5. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Storage Rules**

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /products/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    match /categories/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
```

6. **–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É**
```bash
npm run dev
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ [http://localhost:3000](http://localhost:3000)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
k24-shop/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/     # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export/         # –ï–∫—Å–ø–æ—Ä—Ç CSV
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ import/         # –Ü–º–ø–æ—Ä—Ç CSV
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inquiries/      # –ó–≤–µ—Ä–Ω–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/       # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/       # –ü–µ—Ä–µ–≥–ª—è–¥ —Ç–æ–≤–∞—Ä—É
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ edit/   # –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ new/        # –ù–æ–≤–∏–π —Ç–æ–≤–∞—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings/       # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/          # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx      # –õ–µ–π–∞—É—Ç –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx        # –î–∞—à–±–æ—Ä–¥
‚îÇ   ‚îú‚îÄ‚îÄ login/              # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ globals.css
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ admin/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data-table.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product-form.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidebar.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats-card.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ui/                 # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # React —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ use-auth.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ use-categories.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ use-products.ts
‚îÇ   ‚îú‚îÄ‚îÄ services/           # Firebase —Å–µ—Ä–≤—ñ—Å–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ inquiries.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.ts
‚îÇ   ‚îú‚îÄ‚îÄ firebase.ts         # Firebase –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ types.ts            # TypeScript —Ç–∏–ø–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts
‚îî‚îÄ‚îÄ public/
```

## üìã –§–æ—Ä–º–∞—Ç CSV –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É

```csv
sku,name,description,price,originalPrice,categoryId,status,brand,partNumber,oem,compatibility,condition,year,carBrand,carModel,metaTitle,metaDescription,metaKeywords,slug
SKU001,–§–∞—Ä–∞ –ø–µ—Ä–µ–¥–Ω—è –ª—ñ–≤–∞,–û–ø–∏—Å —Ç–æ–≤–∞—Ä—É,5000,6000,cat_001,in_stock,BMW,63117442647,"123456,789012","BMW X5 2018-2022",used,2020,BMW,X5,SEO Title,SEO Description,"keyword1,keyword2",product-slug
```

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è:
- `sku` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∫–æ–¥ —Ç–æ–≤–∞—Ä—É
- `name` - –Ω–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É
- `price` - —Ü—ñ–Ω–∞

### –°—Ç–∞—Ç—É—Å–∏ —Ç–æ–≤–∞—Ä—ñ–≤:
- `in_stock` - –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
- `on_order` - –ø—ñ–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `out_of_stock` - –Ω–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
- `discontinued` - –∑–Ω—è—Ç–æ –∑ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞

### –°—Ç–∞–Ω —Ç–æ–≤–∞—Ä—É:
- `new` - –Ω–æ–≤–∏–π
- `used` - –±/—É
- `refurbished` - –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–∏–π

## üîê –†–æ–ª—ñ —Ç–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

| –ü—Ä–∞–≤–æ | Admin | Manager | Viewer |
|-------|-------|---------|--------|
| –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ | ‚úÖ | ‚úÖ | ‚ùå |
| –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ | ‚úÖ | ‚úÖ | ‚ùå |
| –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ | ‚úÖ | ‚ùå | ‚ùå |
| –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ | ‚úÖ | ‚ùå | ‚ùå |
| –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ | ‚úÖ | ‚ùå | ‚ùå |
| –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö | ‚úÖ | ‚úÖ | ‚ùå |
| –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö | ‚úÖ | ‚úÖ | ‚ùå |
| –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ‚úÖ | ‚úÖ | ‚úÖ |

## üé® UI/UX

- –¢–µ–º–Ω–∞ —Ç–µ–º–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω
- –ó—Ä—É—á–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è —á–µ—Ä–µ–∑ —Å–∞–π–¥–±–∞—Ä
- –®–≤–∏–¥–∫–∏–π –ø–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è
- Drag & drop –¥–ª—è —Ñ–æ—Ç–æ
- Toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
